(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var Edge, Graph, Node, SpatialHash;

SpatialHash = require('./spatial');

Node = (function() {
  function Node(x, y) {
    this.x = x;
    this.y = y;
  }

  Node.prototype.clone = function() {
    return new Node(this.x, this.y);
  };

  Node.prototype.isEqual = function(other) {
    return this.x === other.x && this.y === other.y;
  };

  return Node;

})();

Edge = (function() {
  function Edge(a, b, thickness) {
    this.a = a;
    this.b = b;
    this.thickness = thickness != null ? thickness : 10;
  }

  Edge.prototype.isEqual = function(other) {
    return (this.a.isEqual(other.a)) && (this.b.isEqual(other.b)) || (this.b.isEqual(other.a)) && (this.a.isEqual(other.b));
  };

  Edge.prototype.isAttachedTo = function(node) {
    return (this.a.isEqual(node)) || (this.b.isEqual(node));
  };

  return Edge;

})();

module.exports = Graph = (function() {
  function Graph() {
    this.map = new SpatialHash();
    this.edges = [];
    console.log('edges');
  }

  Graph.prototype.getEdgesAttachedTo = function(node) {
    var e, edges, _i, _len, _ref;
    edges = [];
    _ref = this.edges;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      e = _ref[_i];
      if (e.isAttachedTo(node)) {
        edges.push(e);
      }
    }
    return edges;
  };

  Graph.prototype.hasEdge = function(edge) {
    return (this.getEdge(edge)) !== void 0;
  };

  Graph.prototype.getEdge = function(edge) {
    var e, _i, _len, _ref;
    _ref = this.edges;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      e = _ref[_i];
      if (e.isEqual(edge)) {
        return e;
      }
    }
    return void 0;
  };

  Graph.prototype.addEdge = function(a, b) {
    var edge;
    this.a = a;
    this.b = b;
    edge = this.getEdge({
      a: this.a,
      b: this.b
    });
    if (edge === void 0) {
      edge = new Edge(this.a, this.b);
      this.edges.push(edge);
    }
    return edge;
  };

  Graph.prototype.addNode = function(position) {
    if ((this.map.get(position)) === void 0) {
      return this.map.set(new Node(position.x, position.y));
    }
  };

  Graph.prototype.changeNode = function(old_pos, new_pos) {
    if ((this.map.get(old_pos)) !== void 0) {
      return this.map.change(old_pos, new_pos);
    }
  };

  return Graph;

})();


},{"./spatial":3}],2:[function(require,module,exports){
var Editor, Floorplan, Graph, UndoRedo, editor, findIntersection, getLengthAndRotation, removeItemFrom, renderer, stage,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Graph = require('./graph');

stage = null;

renderer = null;

getLengthAndRotation = function(sp, ep) {
  return {
    middle: {
      x: (sp.x + ep.x) / 2,
      y: (sp.y + ep.y) / 2
    },
    length: Math.sqrt((sp.x - ep.x) * (sp.x - ep.x) + (sp.y - ep.y) * (sp.y - ep.y)),
    rotation: Math.atan2(ep.y - sp.y, ep.x - sp.x)
  };
};

findIntersection = function(a, b, a1, b1) {
  var denom, denomPositive, dx, dx1, dxa, dy, dy1, dya, intersection, s, t;
  dx = b.x - a.x;
  dy = b.y - a.y;
  dx1 = b1.x - a1.x;
  dy1 = b1.y - a1.y;
  denom = dx * dy1 - dx1 * dy;
  if (denom === 0) {
    return void 0;
  }
  denomPositive = denom > 0;
  dxa = a.x - a1.x;
  dya = a.y - a1.y;
  s = dx * dya - dy * dxa;
  if ((s < 0) === denomPositive) {
    return void 0;
  }
  t = dx1 * dya - dy1 * dxa;
  if ((t < 0) === denomPositive) {
    return void 0;
  }
  if ((s > denom) === denomPositive || (t > denom) === denomPositive) {
    return void 0;
  }
  t = t / denom;
  return intersection = {
    x: a.x + (t * dx),
    y: a.y + (t * dy)
  };
};

removeItemFrom = function(array, item) {
  var index;
  index = array.indexOf(item);
  if (index > -1) {
    return array.splice(index, 1);
  }
};

Floorplan = (function() {
  function Floorplan() {
    this.walls = [];
  }

  Floorplan.prototype.addWall = function(wall) {
    var diff, intersection, part1, part2, w, _i, _len, _ref;
    diff = [];
    _ref = this.walls;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      w = _ref[_i];
      intersection = findIntersection(wall.a, wall.b, w.a, w.b);
      if (intersection !== void 0) {
        diff.push({
          operation: 'remove',
          type: 'wall',
          obj: w
        });
        part1 = {
          a: w.a,
          b: intersection
        };
        diff.push({
          operation: 'add',
          type: 'wall',
          obj: part1
        });
        part2 = {
          a: w.b,
          b: intersection
        };
        diff.push({
          operation: 'add',
          type: 'wall',
          obj: part2
        });
      }
    }
    diff.push({
      operation: 'add',
      type: 'wall',
      obj: wall
    });
    return diff;
  };

  return Floorplan;

})();

UndoRedo = (function() {
  function UndoRedo() {
    this.undoStack = [];
    this.redoStack = [];
  }

  UndoRedo.prototype.constructUndoable = function(diffArray) {
    this.undoStack.push(this._negateAll(diffArray));
    return diffArray;
  };

  UndoRedo.prototype.constructRedoable = function(diffArray) {
    this.redoStack.push(this._negateAll(diffArray));
    return diffArray;
  };

  UndoRedo.prototype._negateAll = function(array) {
    var diff, negated, state, _i, _len;
    state = [];
    for (_i = 0, _len = array.length; _i < _len; _i++) {
      diff = array[_i];
      negated = this._negateDiff(diff);
      state.push(negated);
    }
    return state;
  };

  UndoRedo.prototype._negateDiff = function(diff) {
    var negatedDiff;
    negatedDiff = {};
    if (diff.operation === 'add') {
      negatedDiff.operation = 'remove';
    } else if (diff.operation === 'remove') {
      negatedDiff.operation = 'add';
    }
    negatedDiff.type = diff.type;
    negatedDiff.obj = diff.obj;
    return negatedDiff;
  };

  UndoRedo.prototype.info = function() {
    console.log('undo length: ', this.undoStack.length);
    return console.log('redo length: ', this.redoStack.length);
  };

  UndoRedo.prototype.clearRedoFuture = function() {
    return this.redoStack = [];
  };

  UndoRedo.prototype.undo = function() {
    return this.constructRedoable(this.undoStack.pop());
  };

  UndoRedo.prototype.redo = function() {
    return this.constructUndoable(this.redoStack.pop());
  };

  return UndoRedo;

})();

Editor = (function(_super) {
  __extends(Editor, _super);

  function Editor() {
    Editor.__super__.constructor.call(this);
    this.underlay = new PIXI.Graphics();
    this.underlay.hitArea = new PIXI.Rectangle(0, 0, 800, 600);
    this.underlay.interactive = true;
    this.addChild(this.underlay);
    this.tempGraphics = new PIXI.Graphics();
    this.addChild(this.tempGraphics);
    this.addUnderlayEvents(this.underlay);
    this.floorplan = new Floorplan();
    this.walls = [];
    this.undoRedo = new UndoRedo();
  }

  Editor.prototype.addUnderlayEvents = function(underlay) {
    underlay.mousedown = (function(_this) {
      return function(e) {
        _this.dragging = true;
        return _this.sp = {
          x: e.global.x,
          y: e.global.y
        };
      };
    })(this);
    underlay.mousemove = (function(_this) {
      return function(e) {
        if (_this.dragging) {
          _this.ep = {
            x: e.global.x,
            y: e.global.y
          };
          _this.tempGraphics.clear();
          _this.tempGraphics.lineStyle(10, 0xaa00aa);
          _this.tempGraphics.moveTo(_this.sp.x, _this.sp.y);
          _this.tempGraphics.lineTo(_this.ep.x, _this.ep.y);
          return renderer.render(stage);
        }
      };
    })(this);
    return underlay.mouseup = (function(_this) {
      return function(e) {
        _this.dragging = false;
        _this.tempGraphics.clear();
        _this.applyDiff(_this.floorplan.addWall({
          a: _this.sp,
          b: _this.ep
        }));
        return renderer.render(stage);
      };
    })(this);
  };

  Editor.prototype.applyDiff = function(diffs, putInUndoStack) {
    var diff, length, rotation, w, wall, wallToDelete, _i, _j, _len, _len1, _ref, _ref1;
    if (putInUndoStack == null) {
      putInUndoStack = true;
    }
    if (putInUndoStack) {
      this.undoRedo.clearRedoFuture();
      this.undoRedo.constructUndoable(diffs);
    }
    for (_i = 0, _len = diffs.length; _i < _len; _i++) {
      diff = diffs[_i];
      if (diff.operation === 'add') {
        if (diff.type === 'wall') {
          wall = new PIXI.Graphics();
          wall.beginFill(0xffffff * Math.random());
          _ref = getLengthAndRotation(diff.obj.a, diff.obj.b), length = _ref.length, rotation = _ref.rotation;
          wall.drawRect(0, -5, length, 10);
          wall.position.x = diff.obj.a.x;
          wall.position.y = diff.obj.a.y;
          wall.rotation = rotation;
          wall.ref = diff.obj;
          this.addChild(wall);
          this.walls.push(wall);
          this.floorplan.walls.push(diff.obj);
        }
      }
      if (diff.operation === 'remove') {
        if (diff.type === 'wall') {
          wallToDelete = void 0;
          _ref1 = this.walls;
          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
            w = _ref1[_j];
            if (w.ref === diff.obj) {
              wallToDelete = w;
              continue;
            }
          }
          this.removeChild(wallToDelete);
          removeItemFrom(this.walls, wallToDelete);
          removeItemFrom(this.floorplan.walls, wallToDelete.ref);
        }
      }
    }
    console.log('amount of editor  walls: ', this.walls.length);
    return console.log('amount of FP  walls: ', this.floorplan.walls.length);
  };

  return Editor;

})(PIXI.DisplayObjectContainer);

stage = new PIXI.Stage(0x888888);

renderer = new PIXI.autoDetectRenderer();

editor = new Editor();

stage.addChild(editor);

document.body.appendChild(renderer.view);

window.onload = function() {
  return renderer.render(stage);
};

window.undo = function() {
  var d;
  if (editor.undoRedo.undoStack.length > 0) {
    d = editor.undoRedo.undo();
    editor.applyDiff(d, false);
    return renderer.render(stage);
  }
};

window.redo = function() {
  var d;
  if (editor.undoRedo.redoStack.length > 0) {
    d = editor.undoRedo.redo();
    editor.applyDiff(d, false);
    return renderer.render(stage);
  }
};

window.info = function() {
  return editor.undoRedo.info();
};


},{"./graph":1}],3:[function(require,module,exports){
var SpatialHash;

module.exports = SpatialHash = (function() {
  function SpatialHash() {
    this.map = {};
  }

  SpatialHash.prototype.insert = function(node) {
    var existing;
    existing = this.get(node);
    if (existing !== void 0) {
      return existing;
    }
    return this.set(node);
  };

  SpatialHash.prototype.get = function(node) {
    return this.map["" + node.x + "_" + node.y];
  };

  SpatialHash.prototype.set = function(node) {
    return this.map["" + node.x + "_" + node.y] = node;
  };

  SpatialHash.prototype.remove = function(node) {
    var existing;
    existing = this.get(node);
    if (existing !== void 0) {
      delete this.map["" + node.x + "_" + node.y];
    }
    return existing;
  };

  SpatialHash.prototype.change = function(node, new_pos) {
    var existing;
    existing = this.remove(node);
    existing.x = new_pos.x;
    existing.y = new_pos.y;
    return this.insert(existing, new_pos);
  };

  return SpatialHash;

})();


},{}]},{},[2])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvdXNyL2xvY2FsL2xpYi9ub2RlX21vZHVsZXMvd2F0Y2hpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9uaWtraWtvb2xlL1Byb2plY3RzL2xldmVsX2VkaXRvci9zb3VyY2UvZ3JhcGguY29mZmVlIiwiL1VzZXJzL25pa2tpa29vbGUvUHJvamVjdHMvbGV2ZWxfZWRpdG9yL3NvdXJjZS9tYWluLmNvZmZlZSIsIi9Vc2Vycy9uaWtraWtvb2xlL1Byb2plY3RzL2xldmVsX2VkaXRvci9zb3VyY2Uvc3BhdGlhbC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLDhCQUFBOztBQUFBLFdBQUEsR0FBYyxPQUFBLENBQVEsV0FBUixDQUFkLENBQUE7O0FBQUE7QUFHaUIsRUFBQSxjQUFFLENBQUYsRUFBTSxDQUFOLEdBQUE7QUFBVSxJQUFULElBQUMsQ0FBQSxJQUFBLENBQVEsQ0FBQTtBQUFBLElBQUwsSUFBQyxDQUFBLElBQUEsQ0FBSSxDQUFWO0VBQUEsQ0FBYjs7QUFBQSxpQkFDQSxLQUFBLEdBQU8sU0FBQSxHQUFBO1dBQ0MsSUFBQSxJQUFBLENBQUssSUFBQyxDQUFBLENBQU4sRUFBUyxJQUFDLENBQUEsQ0FBVixFQUREO0VBQUEsQ0FEUCxDQUFBOztBQUFBLGlCQUdBLE9BQUEsR0FBUyxTQUFDLEtBQUQsR0FBQTtXQUNKLElBQUMsQ0FBQSxDQUFELEtBQU0sS0FBSyxDQUFDLENBQVosSUFBa0IsSUFBQyxDQUFBLENBQUQsS0FBTSxLQUFLLENBQUMsRUFEMUI7RUFBQSxDQUhULENBQUE7O2NBQUE7O0lBSEosQ0FBQTs7QUFBQTtBQVVpQixFQUFBLGNBQUUsQ0FBRixFQUFNLENBQU4sRUFBVSxTQUFWLEdBQUE7QUFBeUIsSUFBeEIsSUFBQyxDQUFBLElBQUEsQ0FBdUIsQ0FBQTtBQUFBLElBQXBC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LElBQUEsUUFBQSxHQUFXLElBQUMsQ0FBQSxHQUFELENBQUssSUFBTCxDQUFYLENBQUE7QUFDQSxJQUFBLElBQUcsUUFBQSxLQUFjLE1BQWpCO0FBQ0ksTUFBQSxNQUFBLENBQUEsSUFBUSxDQUFBLEdBQUksQ0FBQSxFQUFBLEdBQUUsSUFBSSxDQUFDLENBQVAsR0FBVSxHQUFWLEdBQVksSUFBSSxDQUFDLENBQWpCLENBQVosQ0FESjtLQURBO1dBR0EsU0FKSTtFQUFBLENBZFIsQ0FBQTs7QUFBQSx3QkFvQkEsTUFBQSxHQUFRLFNBQUMsSUFBRCxFQUFPLE9BQVAsR0FBQTtBQUNKLFFBQUEsUUFBQTtBQUFBLElBQUEsUUFBQSxHQUFXLElBQUMsQ0FBQSxNQUFELENBQVEsSUFBUixDQUFYLENBQUE7QUFBQSxJQUNBLFFBQVEsQ0FBQyxDQUFULEdBQWEsT0FBTyxDQUFDLENBRHJCLENBQUE7QUFBQSxJQUVBLFFBQVEsQ0FBQyxDQUFULEdBQWEsT0FBTyxDQUFDLENBRnJCLENBQUE7V0FHQSxJQUFDLENBQUEsTUFBRCxDQUFRLFFBQVIsRUFBa0IsT0FBbEIsRUFKSTtFQUFBLENBcEJSLENBQUE7O3FCQUFBOztJQURKLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlNwYXRpYWxIYXNoID0gcmVxdWlyZSAnLi9zcGF0aWFsJ1xuXG5jbGFzcyBOb2RlXG4gICAgY29uc3RydWN0b3I6IChAeCwgQHkpIC0+XG4gICAgY2xvbmU6IC0+XG4gICAgICAgIG5ldyBOb2RlKEB4LCBAeSlcbiAgICBpc0VxdWFsOiAob3RoZXIpLT5cbiAgICAgICAgKEB4IGlzIG90aGVyLnggYW5kIEB5IGlzIG90aGVyLnkpXG5cbmNsYXNzIEVkZ2VcbiAgICBjb25zdHJ1Y3RvcjogKEBhLCBAYiwgQHRoaWNrbmVzcz0xMCkgLT5cbiAgICBpc0VxdWFsOihvdGhlcikgLT5cbiAgICAgICAgKChAYS5pc0VxdWFsIG90aGVyLmEpIGFuZCAoQGIuaXNFcXVhbCBvdGhlci5iKSBvclxuICAgICAgICAgKEBiLmlzRXF1YWwgb3RoZXIuYSkgYW5kIChAYS5pc0VxdWFsIG90aGVyLmIpKVxuICAgIGlzQXR0YWNoZWRUbzoobm9kZSkgLT5cbiAgICAgICAgKEBhLmlzRXF1YWwgbm9kZSkgb3IgKEBiLmlzRXF1YWwgbm9kZSlcbiAgICAgICAgXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEdyYXBoXG4gICAgY29uc3RydWN0b3I6LT5cbiAgICAgICAgQG1hcCA9IG5ldyBTcGF0aWFsSGFzaCgpXG4gICAgICAgIEBlZGdlcyA9IFtdXG4gICAgICAgIGNvbnNvbGUubG9nICdlZGdlcydcblxuICAgIGdldEVkZ2VzQXR0YWNoZWRUbzogKG5vZGUpIC0+XG4gICAgICAgIGVkZ2VzID0gW11cbiAgICAgICAgZm9yIGUgaW4gQGVkZ2VzXG4gICAgICAgICAgICBpZiBlLmlzQXR0YWNoZWRUbyBub2RlXG4gICAgICAgICAgICAgICAgZWRnZXMucHVzaCBlXG4gICAgICAgIGVkZ2VzXG4gICAgICAgIFxuICAgIGhhc0VkZ2U6IChlZGdlKSAtPlxuICAgICAgICAoQGdldEVkZ2UgZWRnZSkgaXNudCB1bmRlZmluZWRcbiAgICAgICAgXG4gICAgZ2V0RWRnZTogKGVkZ2UpIC0+XG4gICAgICAgIGZvciBlIGluIEBlZGdlc1xuICAgICAgICAgICAgaWYgZS5pc0VxdWFsIGVkZ2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkICAgICAgICBcblxuICAgIGFkZEVkZ2U6IChAYSwgQGIpIC0+XG4gICAgICAgIGVkZ2UgPSBAZ2V0RWRnZSh7QGEsIEBifSlcbiAgICAgICAgaWYgZWRnZSBpcyB1bmRlZmluZWRcbiAgICAgICAgICAgIGVkZ2UgPSBuZXcgRWRnZShAYSwgQGIpXG4gICAgICAgICAgICBAZWRnZXMucHVzaCAoZWRnZSlcbiAgICAgICAgZWRnZVxuICAgICAgICAgIFxuICAgIGFkZE5vZGU6IChwb3NpdGlvbikgLT5cbiAgICAgICAgaWYgKEBtYXAuZ2V0IHBvc2l0aW9uKSBpcyB1bmRlZmluZWRcbiAgICAgICAgICAgIEBtYXAuc2V0IG5ldyBOb2RlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpICAgIFxuICAgICAgICBcbiAgICBjaGFuZ2VOb2RlOiAob2xkX3BvcywgbmV3X3BvcykgLT5cbiAgICAgICAgaWYgKEBtYXAuZ2V0IG9sZF9wb3MpIGlzbnQgdW5kZWZpbmVkXG4gICAgICAgICAgICBAbWFwLmNoYW5nZShvbGRfcG9zLCBuZXdfcG9zKVxuIiwiR3JhcGggPSByZXF1aXJlICcuL2dyYXBoJ1xuXG5zdGFnZSA9IG51bGxcbnJlbmRlcmVyID0gbnVsbCAgICAgICAgICBcblxuZ2V0TGVuZ3RoQW5kUm90YXRpb24gPSAoc3AsIGVwKSAtPlxuICAgIG1pZGRsZToge3g6KHNwLngrZXAueCkgLyAyLCB5OihzcC55K2VwLnkpIC8gMn0gIyBtaWRkbGUgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgbGVuZ3RoOiBNYXRoLnNxcnQoKHNwLngtZXAueCkgKiAoc3AueC1lcC54KSArIChzcC55LWVwLnkpICogKHNwLnktZXAueSkpXG4gICAgcm90YXRpb246IE1hdGguYXRhbjIoZXAueS1zcC55LCBlcC54LXNwLngpXG5cbmZpbmRJbnRlcnNlY3Rpb24gPSAoYSwgYiwgYTEsIGIxKSAtPlxuICAgIGR4ID0gYi54IC0gYS54XG4gICAgZHkgPSBiLnkgLSBhLnlcbiAgICBkeDEgPSBiMS54IC0gYTEueFxuICAgIGR5MSA9IGIxLnkgLSBhMS55XG4gICAgZGVub20gPSBkeCAqIGR5MSAtIGR4MSAqIGR5XG5cbiAgICBpZiBkZW5vbSBpcyAwXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgIGRlbm9tUG9zaXRpdmUgPSBkZW5vbSA+IDBcblxuICAgIGR4YSA9IGEueCAtIGExLnhcbiAgICBkeWEgPSBhLnkgLSBhMS55XG5cbiAgICBzID0gZHggKiBkeWEgLSBkeSAqIGR4YVxuXG4gICAgaWYgKHMgPCAwKSBpcyBkZW5vbVBvc2l0aXZlXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgIHQgPSBkeDEgKiBkeWEgLSBkeTEgKiBkeGFcblxuICAgIGlmICh0IDwgMCkgaXMgZGVub21Qb3NpdGl2ZVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICBpZiAocyA+IGRlbm9tKSBpcyBkZW5vbVBvc2l0aXZlIG9yICh0ID4gZGVub20pIGlzIGRlbm9tUG9zaXRpdmVcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgdCA9IHQgLyBkZW5vbVxuICAgIGludGVyc2VjdGlvbiA9IHg6YS54ICsgKHQgKiBkeCksIHk6YS55ICsgKHQgKiBkeSlcblxuXG5yZW1vdmVJdGVtRnJvbSA9IChhcnJheSwgaXRlbSkgLT5cbiAgICBpbmRleCA9IGFycmF5LmluZGV4T2YgaXRlbVxuICAgIGlmIGluZGV4ID4gLTFcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgXG5cbmNsYXNzIEZsb29ycGxhblxuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBAd2FsbHMgPSBbXVxuXG4gICAgYWRkV2FsbDogKHdhbGwpIC0+XG4gICAgICAgIGRpZmYgPSBbXVxuICAgICAgICAjIHRoaXMgZnVuY3Rpb24gbm93IG9ubHkgY2hlY2tzIGFsbCBPVEhFUiB3YWxscyB0byBzZWUgaWYgdGhleSBzaG91bGQgYmUgZGl2aWRlZC5cbiAgICAgICAgIyBJIGFsc28gdGhpbmsgdGhlIG9yaWdpbmFsIHdhbGwgdGhhdHMgYmVpbmcgYWRkZWQgc2hvdWxkIGJlIGRpdmlkZWQgaWYgaXQgaW50ZXJzZWN0cyBvdGhlcnNcbiAgICAgICAgZm9yIHcgaW4gQHdhbGxzXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24gPSBmaW5kSW50ZXJzZWN0aW9uKHdhbGwuYSwgd2FsbC5iLCB3LmEsIHcuYilcbiAgICAgICAgICAgIGlmIGludGVyc2VjdGlvbiBpc250IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIGRpZmYucHVzaCAoe29wZXJhdGlvbjoncmVtb3ZlJywgdHlwZTond2FsbCcsIG9iajp3fSlcbiAgICAgICAgICAgICAgICBwYXJ0MSA9IHthOncuYSwgYjppbnRlcnNlY3Rpb259XG4gICAgICAgICAgICAgICAgZGlmZi5wdXNoICh7b3BlcmF0aW9uOidhZGQnLCB0eXBlOid3YWxsJywgb2JqOnBhcnQxfSlcbiAgICAgICAgICAgICAgICBwYXJ0MiA9IHthOncuYiwgYjppbnRlcnNlY3Rpb259XG4gICAgICAgICAgICAgICAgZGlmZi5wdXNoICh7b3BlcmF0aW9uOidhZGQnLCB0eXBlOid3YWxsJywgb2JqOnBhcnQyfSlcbiAgICAgICAgZGlmZi5wdXNoICh7b3BlcmF0aW9uOidhZGQnLCB0eXBlOid3YWxsJywgb2JqOndhbGx9KSAgICBcbiAgICAgICAgZGlmZlxuXG5cbmNsYXNzIFVuZG9SZWRvXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIEB1bmRvU3RhY2sgPSBbXVxuICAgICAgICBAcmVkb1N0YWNrID0gW11cblxuICAgIGNvbnN0cnVjdFVuZG9hYmxlOiAoZGlmZkFycmF5KSAtPlxuICAgICAgICBAdW5kb1N0YWNrLnB1c2ggQF9uZWdhdGVBbGwoZGlmZkFycmF5KVxuICAgICAgICBkaWZmQXJyYXlcbiAgICAgICAgXG4gICAgY29uc3RydWN0UmVkb2FibGU6IChkaWZmQXJyYXkpIC0+XG4gICAgICAgIEByZWRvU3RhY2sucHVzaCBAX25lZ2F0ZUFsbChkaWZmQXJyYXkpXG4gICAgICAgIGRpZmZBcnJheVxuICAgICAgICAgXG4gICAgX25lZ2F0ZUFsbDogKGFycmF5KSAtPlxuICAgICAgICBzdGF0ZSA9IFtdXG4gICAgICAgIGZvciBkaWZmIGluIGFycmF5XG4gICAgICAgICAgICBuZWdhdGVkID0gQF9uZWdhdGVEaWZmKGRpZmYpXG4gICAgICAgICAgICBzdGF0ZS5wdXNoIG5lZ2F0ZWRcbiAgICAgICAgc3RhdGVcbiAgICBfbmVnYXRlRGlmZjogKGRpZmYpIC0+XG4gICAgICAgIG5lZ2F0ZWREaWZmID0ge31cbiAgICAgICAgaWYgZGlmZi5vcGVyYXRpb24gaXMgJ2FkZCdcbiAgICAgICAgICAgIG5lZ2F0ZWREaWZmLm9wZXJhdGlvbiA9ICdyZW1vdmUnXG4gICAgICAgIGVsc2UgaWYgZGlmZi5vcGVyYXRpb24gaXMgJ3JlbW92ZSdcbiAgICAgICAgICAgIG5lZ2F0ZWREaWZmLm9wZXJhdGlvbiA9ICdhZGQnXG4gICAgICAgIG5lZ2F0ZWREaWZmLnR5cGUgPSBkaWZmLnR5cGVcbiAgICAgICAgbmVnYXRlZERpZmYub2JqID0gZGlmZi5vYmpcbiAgICAgICAgbmVnYXRlZERpZmZcblxuICAgIGluZm86IC0+XG4gICAgICAgIGNvbnNvbGUubG9nICd1bmRvIGxlbmd0aDogJyxAdW5kb1N0YWNrLmxlbmd0aFxuICAgICAgICBjb25zb2xlLmxvZyAncmVkbyBsZW5ndGg6ICcsQHJlZG9TdGFjay5sZW5ndGhcbiAgICAgICAgI2NvbnNvbGUubG9nIEpTT04uc3RyaW5naWZ5KEB1bmRvU3RhY2spXG5cbiAgICBjbGVhclJlZG9GdXR1cmU6IC0+XG4gICAgICAgIEByZWRvU3RhY2sgPSBbXVxuICAgIFxuICAgIHVuZG86IC0+XG4gICAgICAgIEBjb25zdHJ1Y3RSZWRvYWJsZSBAdW5kb1N0YWNrLnBvcCgpXG4gICAgICAgIFxuICAgIHJlZG86IC0+XG4gICAgICAgIEBjb25zdHJ1Y3RVbmRvYWJsZSBAcmVkb1N0YWNrLnBvcCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbmNsYXNzIEVkaXRvciBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lclxuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIEB1bmRlcmxheSA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgQHVuZGVybGF5LmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwwLDgwMCw2MDApXG4gICAgICAgIEB1bmRlcmxheS5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgQGFkZENoaWxkIEB1bmRlcmxheVxuICAgICAgICBAdGVtcEdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICBAYWRkQ2hpbGQgQHRlbXBHcmFwaGljc1xuICAgICAgICBAYWRkVW5kZXJsYXlFdmVudHMoQHVuZGVybGF5KVxuICAgICAgICBAZmxvb3JwbGFuID0gbmV3IEZsb29ycGxhbigpXG4gICAgICAgIEB3YWxscyA9IFtdXG4gICAgICAgIEB1bmRvUmVkbyA9IG5ldyBVbmRvUmVkbygpXG4gICAgICAgIFxuICAgIGFkZFVuZGVybGF5RXZlbnRzOiAodW5kZXJsYXkpIC0+XG4gICAgICAgIHVuZGVybGF5Lm1vdXNlZG93biA9IChlKSA9PlxuICAgICAgICAgICAgQGRyYWdnaW5nID0gdHJ1ZVxuICAgICAgICAgICAgQHNwID0ge3g6ZS5nbG9iYWwueCwgeTplLmdsb2JhbC55fVxuXG4gICAgICAgIHVuZGVybGF5Lm1vdXNlbW92ZSA9IChlKSA9PlxuICAgICAgICAgICAgaWYgQGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgQGVwID0ge3g6ZS5nbG9iYWwueCwgeTplLmdsb2JhbC55fVxuICAgICAgICAgICAgICAgIEB0ZW1wR3JhcGhpY3MuY2xlYXIoKVxuICAgICAgICAgICAgICAgIEB0ZW1wR3JhcGhpY3MubGluZVN0eWxlKDEwLDB4YWEwMGFhKVxuICAgICAgICAgICAgICAgIEB0ZW1wR3JhcGhpY3MubW92ZVRvKEBzcC54LCBAc3AueSlcbiAgICAgICAgICAgICAgICBAdGVtcEdyYXBoaWNzLmxpbmVUbyhAZXAueCwgQGVwLnkpXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyIHN0YWdlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHVuZGVybGF5Lm1vdXNldXAgPSAoZSkgPT5cbiAgICAgICAgICAgIEBkcmFnZ2luZyA9IGZhbHNlXG4gICAgICAgICAgICBAdGVtcEdyYXBoaWNzLmNsZWFyKClcbiAgICAgICAgICAgIEBhcHBseURpZmYoQGZsb29ycGxhbi5hZGRXYWxsKHthOkBzcCwgYjpAZXB9KSlcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlciBzdGFnZVxuXG4gICAgYXBwbHlEaWZmOiAoZGlmZnMsIHB1dEluVW5kb1N0YWNrID0gdHJ1ZSkgLT5cbiAgICAgICAgaWYgcHV0SW5VbmRvU3RhY2tcbiAgICAgICAgICAgIEB1bmRvUmVkby5jbGVhclJlZG9GdXR1cmUoKSBcbiAgICAgICAgICAgIEB1bmRvUmVkby5jb25zdHJ1Y3RVbmRvYWJsZSBkaWZmc1xuICAgICAgICBmb3IgZGlmZiBpbiBkaWZmc1xuICAgICAgICAgICAgaWYgZGlmZi5vcGVyYXRpb24gaXMgJ2FkZCdcbiAgICAgICAgICAgICAgICBpZiBkaWZmLnR5cGUgaXMgJ3dhbGwnXG4gICAgICAgICAgICAgICAgICAgIHdhbGwgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgICAgICAgICAgICAgIHdhbGwuYmVnaW5GaWxsKDB4ZmZmZmZmICogTWF0aC5yYW5kb20oKSlcbiAgICAgICAgICAgICAgICAgICAge2xlbmd0aCwgcm90YXRpb259ID0gZ2V0TGVuZ3RoQW5kUm90YXRpb24oZGlmZi5vYmouYSwgZGlmZi5vYmouYilcbiAgICAgICAgICAgICAgICAgICAgd2FsbC5kcmF3UmVjdCgwLCAtNSwgbGVuZ3RoLCAxMClcbiAgICAgICAgICAgICAgICAgICAgd2FsbC5wb3NpdGlvbi54ID0gZGlmZi5vYmouYS54XG4gICAgICAgICAgICAgICAgICAgIHdhbGwucG9zaXRpb24ueSA9IGRpZmYub2JqLmEueVxuICAgICAgICAgICAgICAgICAgICB3YWxsLnJvdGF0aW9uID0gcm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgd2FsbC5yZWYgPSBkaWZmLm9ialxuICAgICAgICAgICAgICAgICAgICBAYWRkQ2hpbGQgd2FsbFxuICAgICAgICAgICAgICAgICAgICBAd2FsbHMucHVzaCB3YWxsXG4gICAgICAgICAgICAgICAgICAgIEBmbG9vcnBsYW4ud2FsbHMucHVzaCBkaWZmLm9ialxuICAgICAgICAgICAgaWYgZGlmZi5vcGVyYXRpb24gaXMgJ3JlbW92ZSdcbiAgICAgICAgICAgICAgICBpZiBkaWZmLnR5cGUgaXMgJ3dhbGwnXG4gICAgICAgICAgICAgICAgICAgIHdhbGxUb0RlbGV0ZSA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICBmb3IgdyBpbiBAd2FsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHcucmVmIGlzIGRpZmYub2JqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FsbFRvRGVsZXRlID0gd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIEByZW1vdmVDaGlsZCB3YWxsVG9EZWxldGVcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbUZyb20gQHdhbGxzLCB3YWxsVG9EZWxldGVcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbUZyb20gQGZsb29ycGxhbi53YWxscywgd2FsbFRvRGVsZXRlLnJlZlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2cgJ2Ftb3VudCBvZiBlZGl0b3IgIHdhbGxzOiAnLEB3YWxscy5sZW5ndGhcbiAgICAgICAgY29uc29sZS5sb2cgJ2Ftb3VudCBvZiBGUCAgd2FsbHM6ICcsIEBmbG9vcnBsYW4ud2FsbHMubGVuZ3RoXG5cbnN0YWdlID0gbmV3IFBJWEkuU3RhZ2UoMHg4ODg4ODgpXG5yZW5kZXJlciA9IG5ldyBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpXG5lZGl0b3IgPSBuZXcgRWRpdG9yKClcbnN0YWdlLmFkZENoaWxkIGVkaXRvclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCByZW5kZXJlci52aWV3XG5cblxud2luZG93Lm9ubG9hZCA9IC0+XG4gICAgcmVuZGVyZXIucmVuZGVyIHN0YWdlXG4gICAgXG53aW5kb3cudW5kbyA9IC0+XG4gICAgaWYgZWRpdG9yLnVuZG9SZWRvLnVuZG9TdGFjay5sZW5ndGggPiAwXG4gICAgICAgIGQgPSBlZGl0b3IudW5kb1JlZG8udW5kbygpXG4gICAgICAgIGVkaXRvci5hcHBseURpZmYgZCwgZmFsc2VcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyIHN0YWdlXG5cbndpbmRvdy5yZWRvID0gLT5cbiAgICBpZiBlZGl0b3IudW5kb1JlZG8ucmVkb1N0YWNrLmxlbmd0aCA+IDBcbiAgICAgICAgZCA9IGVkaXRvci51bmRvUmVkby5yZWRvKClcbiAgICAgICAgZWRpdG9yLmFwcGx5RGlmZiBkLCBmYWxzZVxuICAgICAgICByZW5kZXJlci5yZW5kZXIgc3RhZ2Vcblxud2luZG93LmluZm8gPSAtPlxuICAgIGVkaXRvci51bmRvUmVkby5pbmZvKCkgXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFNwYXRpYWxIYXNoXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIEBtYXAgPSB7fVxuXG4gICAgaW5zZXJ0OiAobm9kZSkgLT5cbiAgICAgICAgZXhpc3RpbmcgPSBAZ2V0IG5vZGVcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nIGlmIGV4aXN0aW5nIGlzbnQgdW5kZWZpbmVkXG4gICAgICAgIEBzZXQgbm9kZVxuICAgICAgICAgICAgXG4gICAgZ2V0OiAobm9kZSkgLT5cbiAgICAgICAgQG1hcFtcIiN7bm9kZS54fV8je25vZGUueX1cIl1cblxuICAgIHNldDogKG5vZGUpIC0+XG4gICAgICAgIEBtYXBbXCIje25vZGUueH1fI3tub2RlLnl9XCJdID0gbm9kZVxuXG4gICAgcmVtb3ZlOiAobm9kZSkgLT5cbiAgICAgICAgZXhpc3RpbmcgPSBAZ2V0IG5vZGVcbiAgICAgICAgaWYgZXhpc3RpbmcgaXNudCB1bmRlZmluZWRcbiAgICAgICAgICAgIGRlbGV0ZSBAbWFwW1wiI3tub2RlLnh9XyN7bm9kZS55fVwiXVxuICAgICAgICBleGlzdGluZ1xuICAgICAgICBcbiAgICBjaGFuZ2U6IChub2RlLCBuZXdfcG9zKSAtPlxuICAgICAgICBleGlzdGluZyA9IEByZW1vdmUgbm9kZVxuICAgICAgICBleGlzdGluZy54ID0gbmV3X3Bvcy54XG4gICAgICAgIGV4aXN0aW5nLnkgPSBuZXdfcG9zLnlcbiAgICAgICAgQGluc2VydCBleGlzdGluZywgbmV3X3Bvc1xuIl19
